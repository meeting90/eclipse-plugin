module desugar

imports
  
  include/C-without-macros
  lib/editor-common.generated
  lib/index-library

signature constructors
  
  Start : Filename * Includes * Definitions -> Start

strategies
        
  desugar-all = innermost(desugar)

rules
  
  desugar:
    DerefAccess(e, p) -> Access(Deref(e), p)
    
  desugar:
    Start(i, d) -> Start(<string-replace(|<project-path>, "")> <Fst> <index-get-current-file>, i, d)
    