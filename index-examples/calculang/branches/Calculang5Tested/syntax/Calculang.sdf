module Calculang

imports Common

exports

  context-free start-symbols
    Start

  context-free syntax
    
    Exp -> Start {prefer}
    INT -> Exp   {cons("Int")}
    
    Exp "*" Exp -> Exp {cons("Mul")}
    Exp "+" Exp -> Exp {cons("Plus")}
    
    "(" Exp ")" -> Exp {bracket}
    
    Exp "!" -> Exp {cons("Fact"), right}
    
  context-free priorities
    
    Exp "*" Exp -> Exp {left}
  >
    Exp "+" Exp -> Exp {left}
    
  context-free syntax
    
    Stm*       -> Start {cons("Statements")}
    ID "=" Exp -> Stm {cons("Assign")}
    Exp        -> Stm
    ID         -> Exp {cons("Var")}
    
