module variables-basic

language Calculang

test Variable unassigned [[
  y
]] 1 error /unassigned/

test Multiply assigned variable [[
  y = 1
  y = 2
  y
]] /multiply assigned/

test Eval variable [[
  x = 4
  x
]] run calc to "4"

test Reference resolving (1) [[
  x = 4
  [[x]]
]] resolve

test Reference resolving (2) [[
  [[x]] = 4
  [[x]]
]] resolve #2 to #1

test Content completion [[
  avariable = 1
  [[a]]
]] complete to "avariable"
