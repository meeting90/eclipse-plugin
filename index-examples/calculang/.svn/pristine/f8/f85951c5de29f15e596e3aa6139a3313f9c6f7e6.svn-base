module variables-basic

language Calculang

test Variable [[
  x
]] parse

test Variable [[
  x = 2
  x
]]

test Assignment [[
  x = 4
]] parse

test Multiple statements [[
	x = 1 
	x = 2
]] parse to Statements([Assign(_, _), Assign(_, _)])

test Eval variable [[
  x = 4
  y = x * 2
  y
]] run calc to "8"

test Eval multiple variables [[
  x = 2
  y = x * 2 + x
  y
]] run calc to "6"
